{% extends "ue_base.html" %}
{% load static %}


{% block page_content %}
<div id="">
    <div class="" class="vertical_align_top">
        <h3 class="yellow_text px-5 mx-5"><i>{{user.full_name}}</i></h3>
        <div id="book_information1" class="vertical_align_top">
            <p><b>First Name: {{user.first_name}}</b></p>
            <p><b>Last Name: {{user.last_name}} </b></p>
            <p><b>Email: {{user.email}}</b></p>
            <p><b>Birthday: {{user.birthday}}</b></p>
            <p><b>Joined on: {{user.created_at}}</b></p>
        </div>

        <div id="">
            <a href="/user_experience/user_info_page_edit">Edit user information</a>
        </div>
    </div>
    <hr>
    <h3 class="yellow_text px-5 mx-5"><i>Your Favorite Movies</i></h3>
    <table id="#main" class="table table-primary table-striped table-hovers">
        <thead>
            <tr>
                <th scope="col" class="px-4"></th>
                <th scope="col">Movie Title</th>
                <th scope="col">Directed by</th>
                <th scope="col">Cast</th>
                <th scope="col">Year</th>
                <th scope="col">Rating</th>
                <th scope="col"># likes </th>
                <th scope="col">like/un-like </th>
            </tr>
        </thead>
        <div id="main">
            <tbody>
                {% for movie in movies %}
                    <tr>
                        <td class="px-4"></td>
                        <td><a href="/user_experience/movie_discussion/{{movie.id}}">{{movie.title}}</a></td>
                        <td>{{movie.director}}</td>
                        <td>{{movie.cast}}</td>
                        <td>{{movie.year}}</td>
                        <td>{{movie.imdb_rating}}</td>  {# this is actually 'cast' #}
                        <td id="like_count_{{movie.id}}" >{{movie.liked_by.count}}</td>
                    {% if movie not in user.liked_by.all %}    
                        <td><a class="like" href="" movie_id="{{movie.id}}">like</a></td>  
                    {% else %}
                        <td><a class="like" href="" movie_id="{{movie.id}}">un-like</a></td>  
                    {% endif %}
                    </tr>
                {% endfor %}
            </tbody>
        </div>
    </table>
</div> {# END OF wrapper2 #}
{% endblock page_content %}
